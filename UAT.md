# BizLife — 验收清单（UAT / QA Checklist）V1.0

目标：验证 BizLife（Windows 桌面窗口版）在“规则正确、流程闭环、数据一致、可存档续玩、可打包运行”的前提下达到可交付标准。  
说明：每条包含【验收点 / 预期结果 / 验证方法】。默认“推荐值”配置。

---

## 1) 安装与启动

1. 【可运行】双击启动程序可正常进入启动页  
   - 预期：无崩溃、无卡死，显示“继续/新游戏/设置”  
   - 方法：冷启动3次

2. 【分辨率适配】窗口默认尺寸下各卡片不溢出、不遮挡、可滚动  
   - 预期：主面板关键区可见；列表区支持滚动  
   - 方法：1366×768 与 1920×1080 各测一次

3. 【最大化/缩放】窗口缩放后布局仍可用  
   - 预期：控件不重叠，滚动条仍可操作  
   - 方法：拖拽缩放、最大化/恢复各测一次

---

## 2) 新游戏流程

4. 【新建开局】新游戏可创建并进入主面板  
   - 预期：年龄在35–55；寿命20年；初始现金50万  
   - 方法：创建10局统计范围

5. 【愿景权重】愿景支持多选与权重设置，总和必须=100%  
   - 预期：非法权重无法开始；合法权重写入存档  
   - 方法：输入错误/边界值测试

6. 【难度档位】轻松/标准/硬核三档生效  
   - 预期：难度影响参数（事件强度/市场波动/供应商风险等）明显不同  
   - 方法：同seed对比三档30天结果分布

---

## 3) 主面板（核心回合UI）

7. 【顶栏指标】日期/年龄/剩余天数/TotalScore/AP/IP/重大决策名额/调拨确认额度显示正确  
   - 预期：进入下一天后数值按规则变化  
   - 方法：连续推进5天校验

8. 【企业列表】企业列表显示：名称、行业、托管状态、风险灯/现金灯  
   - 预期：选择企业后右侧详情联动刷新  
   - 方法：开2家企业切换验证

9. 【进入下一天】必须由玩家点击推进  
   - 预期：不点击则不结算；点击后执行“刷新→结算→存档”  
   - 方法：观察日志/结算变化

---

## 4) 回合与结算（核心规则正确性）

10. 【每日刷新】日开盘刷新：宏观/行业热度/市场价/供应商状态/事件权重  
   - 预期：数据有变化且可解释（非纯随机抖动）  
   - 方法：观察价格与宏观指数连续10天

11. 【日终结算】经营/交易/事件/财务/风险更新一致  
   - 预期：净资产=现金+库存估值+固定资产-负债（口径一致）  
   - 方法：手算抽样3天

12. 【30天滚动】月报Top指标：净资产增长/利润率/自由现金流为30天滚动口径  
   - 预期：不足30天按已有天数计算且标注  
   - 方法：第10天与第40天对比

---

## 5) AP / 指令额度 / 重大决策名额

13. 【AP初始】AP=3/天，显示与消耗正确  
   - 预期：决策类动作扣AP；指令类不扣  
   - 方法：同日执行两类动作对比

14. 【AP上限】AP可升级至6（若V1含升级入口）  
   - 预期：升级后生效且存档持久化  
   - 方法：升级后重启读取

15. 【企业指令额度】CmdCap=3+企业等级，超出进入队列顺延  
   - 预期：当日用完后再下达指令提示“排队”；次日自动执行  
   - 方法：L1企业连续下达≥5条指令

16. 【重大决策名额】每天1次，仅覆盖：并购/出售、上市/退市、进入新行业  
   - 预期：触发其一占用名额；同日再触发需排队或加急  
   - 方法：同日连续并购两次验证限制

17. 【刷新事件不占名额】事件刷新不占重大决策名额  
   - 预期：刷新后名额状态不变  
   - 方法：当日先刷新再并购，验证名额仍可用

---

## 6) 随机事件系统

18. 【事件生成】可出现当日事件卡，含2–4选项  
   - 预期：选项执行影响现金/风险/评分/状态  
   - 方法：连续推进20天，至少触发5次事件

19. 【可解释触发】事件触发条件与玩家状态匹配  
   - 预期：事件卡显示“触发原因标签”（年龄/宏观/行业等）  
   - 方法：调整状态反复触发对比

20. 【冷却生效】同族事件有冷却（30–180天）  
   - 预期：冷却期内不重复出现同族事件  
   - 方法：强制触发同族条件验证不出现

21. 【延迟后果】事件可产生N天后效果  
   - 预期：到期自动触发并记入日志  
   - 方法：触发含延迟的事件，推进至到期

22. 【严重度分级】事件标注C/B/A/S并与影响强度一致  
   - 预期：高严重度影响更显著  
   - 方法：抽样对比同类事件不同等级

23. 【S级节奏】S级事件平均约180天一次（统计意义）  
   - 预期：长期统计接近目标；短期允许波动  
   - 方法：模拟/跑测≥2000天统计频次

24. 【S级机会/风险】S级机会与风险各约50%（统计意义）  
   - 预期：长期分布接近1:1  
   - 方法：统计S级样本≥50次

25. 【S级占用名额】S级事件处理占用当日重大决策名额，不耗AP  
   - 预期：名额用掉；AP不减少  
   - 方法：触发S级并选择选项验证

---

## 7) 事件刷新（现金/IP）

26. 【刷新次数】同日最多刷新1次  
   - 预期：第二次刷新按钮禁用或提示  
   - 方法：同日连续点击

27. 【刷新成本-现金】现金刷新=BaseCost+净资产*r（随难度变化）  
   - 预期：资产越高越贵；难度越高更贵  
   - 方法：低净资产与高净资产各测试一次

28. 【刷新成本-IP】IP刷新按等级分档消耗  
   - 预期：IP正确扣减且不为负  
   - 方法：IP=1/2/3边界测试

29. 【等级浮动】刷新事件等级允许±1档，上浮概率较低  
   - 预期：统计分布符合配置  
   - 方法：同等级刷新≥100次统计

30. 【世界状态保留】刷新后宏观/市场/预兆不变  
   - 预期：仅事件替换；价格/宏观不回滚  
   - 方法：记录刷新前后市场值对比

---

## 8) 贸易系统（全国统一市场）

31. 【商品列表】快消+大宗商品可见，价格每日变化  
   - 预期：价格变动与供需/趋势有关，不是纯白噪声  
   - 方法：对比供需指数与价格方向

32. 【买入】可按数量买入，库存与现金变动正确  
   - 预期：现金减少、库存增加、平均成本更新  
   - 方法：买入两次不同价验证均价

33. 【卖出】可卖出库存，现金增加，库存减少  
   - 预期：盈亏影响利润与净资产  
   - 方法：低买高卖验证利润为正

34. 【同日合并AP】同一商品同日买卖合并算1次AP  
   - 预期：多次交易同商品只扣一次AP  
   - 方法：同日反复买卖同商品

35. 【滑点/流动性】大单交易产生滑点  
   - 预期：数量越大成交价越不利  
   - 方法：小单与大单对比

36. 【库存成本】仓储/损耗按日生效  
   - 预期：库存长期持有会产生成本或损耗  
   - 方法：持有10天观察数量/成本变化

---

## 9) 供应商与合同

37. 【供应商数量】每商品生成5–8家供应商  
   - 预期：分层明显（A/B/C/D）与参数差异  
   - 方法：抽样3个商品检查数量与层级

38. 【供应商风险】供应商存在断供/延期/涨价/违约事件  
   - 预期：事件可触发并影响交付或价格  
   - 方法：推进≥200天观察至少1次

39. 【合同采购】支持锁价锁量与交付计划  
   - 预期：按schedule分批到货；违约触发损失/延迟  
   - 方法：签一份分批合同推进验证

40. 【合同状态】active/fulfilled/breached 状态正确  
   - 预期：交付完成变fulfilled；违约变breached  
   - 方法：强制触发违约条件

---

## 10) 企业经营（3首发行业闭环）

### 10.1 创建与升级
41. 【创建企业】可创建连锁零售/连锁服务/电商平台企业  
   - 预期：创建后出现在企业列表，拥有L1参数与KPI面板  
   - 方法：各建1家

42. 【企业升级】企业等级L1→L5能随经营成长或投入升级  
   - 预期：升级后CmdCap增加，KPI/模型参数提升  
   - 方法：通过经营或直接投入升级验证

### 10.2 连锁零售（核心逻辑）
43. 【零售KPI】客流/转化/客单/复购/缺货/周转/损耗可见  
   - 预期：KPI变化能传导到收入与利润  
   - 方法：调整定价/促销、补货后对比

44. 【缺货惩罚】缺货率上升导致销量下降、口碑受损  
   - 预期：缺货明显拉低营收  
   - 方法：故意不补货10天

### 10.3 连锁服务（核心逻辑）
45. 【服务KPI】利用率/等待时长/差评率/复购可见  
   - 预期：产能不足→等待↑差评↑→复购下降  
   - 方法：压缩排班或提高需求验证

### 10.4 电商平台（核心逻辑）
46. 【平台KPI】GMV/订单/抽佣收入/退款/投诉/欺诈损失/商家质量分布  
   - 预期：治理与风控能影响退款投诉与留存  
   - 方法：改变风控/规则（若提供）观察趋势

47. 【推荐值生效】抽佣5%、T+7、风控均衡默认生效  
   - 预期：配置修改后可生效（重启或次日）  
   - 方法：改配置→新开局验证

48. 【治理工具箱】信用分+处罚+认证+评价+类目保护生效  
   - 预期：低分商家曝光下降；违规触发处罚；认证有权益；高风险类目更严  
   - 方法：构造高退款商家验证降权/处罚

49. 【自营店解锁】自营店中后期解锁（条件触发）  
   - 预期：解锁前不可用；解锁后可创建自营并与贸易联动  
   - 方法：达到条件验证入口出现

---

## 11) 组织管理与总经理托管

50. 【总经理获取】公开招聘/猎头/里程碑方式可获得总经理  
   - 预期：总经理池刷新；费用与质量随地位变化  
   - 方法：不同阶段各测试一次

51. 【托管启用】企业达到条件可任命总经理并启用托管  
   - 预期：托管标记显示；企业自动执行指令  
   - 方法：托管后推进10天观察自动动作

52. 【托管不占玩家指令】托管企业的自动指令不占玩家企业指令额度  
   - 预期：玩家仍可对其他企业下达指令  
   - 方法：托管+非托管并行测试

53. 【召回决策卡】超授权/重大危机/重大机会会弹出“需要你决策”卡  
   - 预期：不处理则进入队列或带来后果  
   - 方法：触发红线（现金流断裂/合规风险等）

---

## 12) 集团总部（资金池/调拨/集采/月报）

54. 【资金池】集团现金池显示正确，企业余额与池内调拨一致  
   - 预期：调拨后双方变化一致，净资产口径一致  
   - 方法：调拨3次核对

55. 【现金线自动调拨】小额自动抽补生效  
   - 预期：企业跌破min_line自动补；高于surplus_line自动回收  
   - 方法：人为制造现金波动验证

56. 【大额确认】超阈值触发确认卡且每日限1次  
   - 预期：确认后执行；第二次提示排队/加急  
   - 方法：同日触发两次超阈值调拨

57. 【集采纳入】可纳入/移出某品类集采  
   - 预期：纳入后成本下降/稳定性提升，同时集中风险提示  
   - 方法：纳入前后对比采购成本/断供概率

58. 【月报】每30天弹出月报，含Top指标与排行/预警  
   - 预期：可关闭返回主面板，数据与30天滚动一致  
   - 方法：推进到第30天验证

---

## 13) 并购系统（M&A）

59. 【标的来源】市场随机刷新 + 主动搜索生成候选标的  
   - 预期：搜索费用随规模递增；候选1–3个  
   - 方法：刷新与搜索各测一次

60. 【标的卡字段】显示行业/等级/营收趋势/利润/FCF趋势/风险评分/价格/协同标签  
   - 预期：字段完整且可对比  
   - 方法：查看多标的对比

61. 【占用重大决策名额】并购占用当日重大决策名额  
   - 预期：名额用掉；同日第二次并购受限  
   - 方法：同日并购两次验证

62. 【付款方式】现金与分期可选  
   - 预期：现金立即扣款；分期生成债务计划  
   - 方法：各做一次

63. 【分期参数】年化12%–18%，最长360天（标准档）  
   - 预期：分期利息与日/期扣款正确；到期清零  
   - 方法：推进到一期扣款日验证

64. 【违约后果】分期无法支付触发违约事件  
   - 预期：声望/融资成本/控制权等后果按规则生效  
   - 方法：故意断现金流触发违约

65. 【磨合期】并购后进入磨合期，风险评分越高磨合越久  
   - 预期：磨合期内效率折损、事件概率上升  
   - 方法：高风险与低风险标的对比

---

## 14) 新行业进入

66. 【立即开展】进入新行业后立刻生成企业雏形并可经营  
   - 预期：无审批等待  
   - 方法：当天进入行业并推进验证经营开始

67. 【占用名额】进入新行业占用重大决策名额  
   - 预期：当天无法再并购/再入行业（除非排队/加急）  
   - 方法：同日连续进入两次验证限制

---

## 15) 评分、里程碑与结局

68. 【四维分更新】日结算或月结算能更新W/C/I/S与TotalScore  
   - 预期：改变经营策略后分项变化方向合理  
   - 方法：对比偏稳健与偏激进策略

69. 【里程碑奖励】里程碑触发奖励/解锁可见（若V1包含）  
   - 预期：奖励与愿景权重倾向一致  
   - 方法：高财富权重与高事业权重对比

70. 【退休结算】到期退休进入结算页  
   - 预期：输出分位段S/A/B/C/D/E与称号、复盘报告  
   - 方法：快进到结束

71. 【复盘报告】包含曲线拐点、关键决策、重大事件、企业版图摘要  
   - 预期：信息完整且与日志一致  
   - 方法：抽查3条关键事件对齐日志

72. 【继承天赋】可选择天赋并写入“档案”，可叠加且有Cap  
   - 预期：下一局生效；达到Cap后转重铸点  
   - 方法：多周目验证叠加与封顶

---

## 16) 存档与续玩（不可回滚）

73. 【自动存档】每日结算后自动存档  
   - 预期：重启后“继续游戏”回到最新日  
   - 方法：推进3天→重启→继续

74. 【不可回滚】同一局无法加载旧存档回到过去  
   - 预期：界面无“加载历史存档”入口；仅继续最新  
   - 方法：检查菜单与存档目录

75. 【版本兼容】存档包含config_version，版本不兼容提示并阻止加载  
   - 预期：提示清晰，不破坏原存档  
   - 方法：改version模拟

---

## 17) 配置与推荐值

76. 【推荐值默认】不修改配置也可完整运行  
   - 预期：推荐值写入默认config  
   - 方法：清空存档冷启动新局

77. 【配置生效】修改config后新开局生效（或次日生效的策略生效）  
   - 预期：按规则延迟（如总部政策次日生效）  
   - 方法：改抽佣/结算周期等验证

---

## 18) 性能与稳定性

78. 【长跑稳定】连续运行推进≥2000天无内存爆涨/崩溃  
   - 预期：内存稳定增长不超过合理阈值  
   - 方法：跑测脚本或加速模式

79. 【日志可控】日志不会无限膨胀导致卡顿（可分页或按月归档）  
   - 预期：查询最近日志仍流畅  
   - 方法：推进≥1000天打开日志页

---

## 19) 打包与交付

80. 【PyInstaller打包】一键打包生成可运行.exe  
   - 预期：无缺失依赖，启动正常  
   - 方法：干净Windows环境测试（或虚拟机）

81. 【无需外部安装】运行无需额外安装Python  
   - 预期：双击即运行  
   - 方法：在无Python环境测试

82. 【目录结构】程序自动创建存档目录与默认配置副本  
   - 预期：首次运行生成`/saves`与`/config_runtime`等  
   - 方法：删除目录再启动

---

## 20) 缺陷分级与出厂门槛

- P0（阻断出厂）：崩溃/存档损坏/无法推进/规则资源扣减错误/结算口径错误
- P1（严重）：关键限制失效（AP/CmdCap/重大名额/不可回滚）、KPI不联动财务
- P2（一般）：UI错位/文本错误/提示不清/少量事件逻辑不一致
- P3（轻微）：排版细节、少量数值不平衡

**出厂门槛**：P0=0、P1=0、P2≤10且有规避方案、P3不限但需记录。
